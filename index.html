// ... (dentro da função verDetalhes no index.html)

Object.keys(grupos).forEach(forn => {
    html += `
    <div class="fornecedor-header">FORNECEDOR: ${forn}</div>
    <div class="table-responsive">
        <table class="table table-sm table-hover mb-0" style="font-size: 0.75rem;">
            <thead class="table-dark">
                <tr>
                    <th class="ps-3">Item</th>
                    <th>Descrição Técnica</th>
                    <th class="text-center">Qtd</th>
                    <th class="text-end">Total Est.</th>
                    <th class="text-center">ME/EPP</th>
                </tr>
            </thead>
            <tbody>
                ${grupos[forn].map(it => {
                    // Lógica de destaque verde
                    const rowStyle = it.match ? 'style="background-color: #d4edda !important;"' : '';
                    // Lógica do NÃO vermelho e negrito
                    const meEppDisplay = it.me_epp === 'Não' ? '<b class="text-danger" style="font-size: 0.9rem;">NÃO</b>' : it.me_epp;
                    
                    return `
                    <tr ${rowStyle}>
                        <td class="ps-3">${it.item}</td>
                        <td class="fw-bold">${it.desc}</td>
                        <td class="text-center">${it.qtd}</td>
                        <td class="text-end fw-bold text-primary">${fmt.format(it.total_est)}</td>
                        <td class="text-center">${meEppDisplay}</td>
                    </tr>`;
                }).join('')}
            </tbody>
        </table>
    </div>`;
});
